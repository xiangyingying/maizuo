{"version":3,"sources":["webpack:///./src/views/City.vue?c6ec","webpack:///src/views/City.vue","webpack:///./src/views/City.vue?d738","webpack:///./src/views/City.vue","webpack:///./src/views/City.vue?d524"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","directives","name","rawName","value","expression","domProps","on","handleFocus","handleDown","$event","type","indexOf","_k","keyCode","key","handleEnter","target","composing","keyword","handleCancel","_m","_l","item","id","nativeOn","handleCity","_s","index","staticStyle","staticRenderFns","component"],"mappings":"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","file":"js/chunk-7b809a60.2493bf1f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"nav\"},[_c('router-link',{attrs:{\"to\":\"/films/nowPlaying\"}},[_c('button',{staticClass:\"secede\"},[_vm._v(\"X\")])]),_c('p',[_vm._v(\"当前城市 - 武汉\")])],1),_c('div',{staticClass:\"search\"},[_c('i',{staticClass:\"iconfont icon-sousuo\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],attrs:{\"type\":\"text\",\"placeholder\":\"输入城市名或拼音\"},domProps:{\"value\":(_vm.keyword)},on:{\"click\":_vm.handleFocus,\"keydown\":_vm.handleDown,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleEnter($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value}}}),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFocus),expression:\"isFocus\"}],staticClass:\"cancel\",on:{\"click\":_vm.handleCancel}},[_vm._v(\"取消\")])]),_c('div',{staticClass:\"content\",attrs:{\"id\":\"search-content\"}},[_c('div',{staticClass:\"city\"},[_vm._m(0),_c('div',{staticClass:\"hot-city\"},[_c('p',[_vm._v(\"热门城市\")]),_vm._l((_vm.hotCities),function(item){return _c('router-link',{key:item.id,attrs:{\"to\":\"/films/nowPlaying\"},nativeOn:{\"click\":function($event){return _vm.handleCity(item.name)}}},[_c('span',[_vm._v(_vm._s(item.name))])])})],2)]),_c('van-index-bar',_vm._l((_vm.cities),function(item,index){return _c('div',{key:index},[_c('van-index-anchor',{attrs:{\"index\":index}}),_vm._l((item),function(value){return _c('router-link',{key:value.id,attrs:{\"to\":\"/films/nowPlaying\"},nativeOn:{\"click\":function($event){return _vm.handleCity(value.name)}}},[_c('van-cell',{attrs:{\"title\":value.name}})],1)})],2)}),0),_c('div',{staticClass:\"content-active\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"content-active\"}})],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"position\"},[_c('p',[_vm._v(\"GPS定位你所在城市\")]),_c('span',{staticClass:\"pos\"},[_vm._v(\"武汉\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"nav\">\r\n            <router-link to=\"/films/nowPlaying\">\r\n                <button class=\"secede\">X</button>\r\n            </router-link>          \r\n            <p>当前城市 - 武汉</p>\r\n        </div>\r\n        <div class=\"search\">\r\n            <i class=\"iconfont icon-sousuo\"></i>\r\n            <input @click=\"handleFocus\" @keydown=\"handleDown\"\r\n             @keyup.enter=\"handleEnter\" v-model=\"keyword\" type=\"text\" placeholder=\"输入城市名或拼音\">\r\n            <button class=\"cancel\" v-show=\"isFocus\" @click=\"handleCancel\">取消</button>\r\n        </div>\r\n        <div class=\"content\" id=\"search-content\">\r\n            <div class=\"city\">\r\n                <div class=\"position\">\r\n                    <p>GPS定位你所在城市</p>\r\n                    <span class=\"pos\">武汉</span>\r\n                </div>\r\n                <div class=\"hot-city\">\r\n                    <p>热门城市</p>\r\n                    <router-link to=\"/films/nowPlaying\" @click.native=\"handleCity(item.name)\"\r\n                        v-for=\"item of hotCities\" :key=\"item.id\"\r\n                    >\r\n                        <span >{{item.name}}</span>\r\n                    </router-link>          \r\n                </div>\r\n             </div>\r\n            <van-index-bar>\r\n                <div v-for=\"(item,index) of cities\" :key=\"index\">\r\n                        <van-index-anchor :index=\"index\"  />\r\n                        <router-link to=\"/films/nowPlaying\" @click.native=\"handleCity(value.name)\"\r\n                        v-for=\"value of item\" :key=\"value.id\"\r\n                        >\r\n                        <van-cell :title=\"value.name\"  />\r\n                        </router-link>               \r\n                    </div>\r\n            </van-index-bar>\r\n            <div class=\"content-active\" id=\"content-active\" style=\"display:none\"></div>\r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name:\"City\",\r\n        data() {\r\n            return {\r\n                hotCities:[],\r\n                cities:{},\r\n                isFocus:false,\r\n                keyword:\"\",\r\n            }\r\n        },\r\n        mounted() {\r\n            this.axios.get('http://yapi.demo.qunar.com/mock/43104/film').then(res=>{\r\n                this.hotCities=res.data.data.hotCities\r\n                this.cities=res.data.data.cities\r\n            })\r\n        },\r\n        methods:{\r\n            handleCity(city){\r\n                this.$store.dispatch(\"changeCity\",city)\r\n            },\r\n            handleFocus(){\r\n                this.isFocus=true;              \r\n            },\r\n            handleCancel(){\r\n                this.isFocus=false;\r\n                var contentActive=document.getElementById(\"content-active\");\r\n                var searchContent=document.getElementById(\"search-content\")\r\n                  contentActive.style.display=\"none\";\r\n                  searchContent.style.display=\"block\";\r\n                  this.keyword=\"\"\r\n            },\r\n            handleEnter(){\r\n               /*  console.log(this.keyword)    */           \r\n                \r\n                /* var arrCity=[]; \r\n                Object.keys(this.cities).forEach(item=>{\r\n                     console.log(this.cities[item]) \r\n                     if(this.cities[item].name.includes(\"this.keyword\")){\r\n                        arrCity.push(this.cities[item].name)\r\n                        console.log(arrCity)\r\n                    } \r\n                }) */\r\n\r\n            },\r\n            handleDown(){\r\n                var contentActive=document.getElementById(\"content-active\")   \r\n                var searchContent=document.getElementById(\"search-content\")            \r\n                contentActive.style.display=\"block\";\r\n                searchContent.style.display=\"none\";\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    /deep/ .van-index-bar__index {\r\n        line-height: 1.1rem;\r\n    }\r\n    .nav{\r\n        display: flex;\r\n    }\r\n    button{\r\n        background: none;\r\n        border: none;\r\n    }\r\n    .nav p{\r\n        margin-left: 300px;\r\n    }\r\n         .nav,.search{\r\n        position:fixed;\r\n        z-index: 300;\r\n    } \r\n    .nav{\r\n        top: 0;\r\n        background: white;\r\n        width: 100%;\r\n    }\r\n    .search{\r\n        top:100px;\r\n    }\r\n    .search{\r\n        line-height: 100px;\r\n        background: #EEE;\r\n        width: 100%;\r\n    }\r\n    .search input{\r\n        height: 50px;\r\n        border: none;\r\n        padding-left: 60px;\r\n        margin-left: 40px;\r\n        font-size: 30px;\r\n        width: 80%;\r\n    }\r\n    .search input::placeholder{\r\n        color: #999;\r\n    }\r\n    .search i{\r\n         position: absolute;\r\n        left:50px;\r\n        color: #999;\r\n    }\r\n    .position{\r\n        font-size: 30px;\r\n    }\r\n    .city{\r\n        margin-left: 20px;\r\n        margin-top: 240px;\r\n    }\r\n    .pos{\r\n        padding: 20px;\r\n        background: #EEE;\r\n    }\r\n    .hot-city span{\r\n        display: inline-block;\r\n        padding: 20px 40px;\r\n        background: #EEE;\r\n        margin-right: 20px;margin-top: 20px;\r\n        color: black;\r\n    }\r\n    /deep/ .van-index-anchor{\r\n        background: #eee;\r\n        margin-top: 20px;\r\n        line-height: 60px;\r\n        font-size: 37px;\r\n    }\r\n    /deep/ .van-cell__title span{\r\n        font-size: 35px;\r\n        line-height: 80px;\r\n    }\r\n    .secede{\r\n        color: black;\r\n        margin-top: 40px;\r\n    }\r\n    .cancel{\r\n        width: 200px;\r\n        position: absolute;\r\n        right: 50px;\r\n    }\r\n    .content-active{\r\n        content: \"\";\r\n        display: table;\r\n        height: 100%;\r\n        width: 100%;\r\n        z-index: 500;\r\n        background:white;\r\n        position: absolute;\r\n        top: 0px;\r\n    }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./City.vue?vue&type=template&id=6c68b0f2&scoped=true&\"\nimport script from \"./City.vue?vue&type=script&lang=js&\"\nexport * from \"./City.vue?vue&type=script&lang=js&\"\nimport style0 from \"./City.vue?vue&type=style&index=0&id=6c68b0f2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c68b0f2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=style&index=0&id=6c68b0f2&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./City.vue?vue&type=style&index=0&id=6c68b0f2&scoped=true&lang=css&\""],"sourceRoot":""}